---
title: Error Logging
description: 
weight: 120
layout: docs
---

{{% wip %}}

All modules have access to a new logging infrastructure.

This logging infrastructure uses monolog as the log provider. 

It provides 3 log handlers 

- File logging
- Console logging
- Email Logging

To log something in a module you can do 

`$this->logger->log($logLevel, $message, $context)`

$logLevel is based on the standard log levels that PSR/log supports. 

i.e 

```
class LogLevel
{
    const EMERGENCY = 'emergency';
    const ALERT     = 'alert';
    const CRITICAL  = 'critical';
    const ERROR     = 'error';
    const WARNING   = 'warning';
    const NOTICE    = 'notice';
    const INFO      = 'info';
    const DEBUG     = 'debug';
}
```

$context is not required but if passed, should be an array of values.

## File logging

This logs the message and context (if passed) to a file. 

Logs all messages with a level of `debug` or higher.

The file name that is used is determined as follows.

A prefix will be generated based on the log channel, which is based on the module type. 

e.g. payment/shipping/order_total.

The code of the module is then added. 

e.g. `flat` or `paypal` etc.

following this a string will be added based on whether the code generating the log is either admin or storefront code.

The log file name will then be suffixed with the current date using a format that means logs will be aggregated daily.

### For logs generated by Admin code. 

This will be prefixed with `admin-`

and the current session admin id will be added if applicable.

Then if the code generating the error references an order, the order id will be added.

### For logs generated by store front code.

This will be prefixed with `store-`

Then if a customer id is available in the context of the log then the customer id, and a partial customer first name and last name will be added to the log file name.


## Console Logging

This will log the error message and context(if passed) to the javascript console. 

So will be viewable using your browser's developer console.

Logs all messages with a level of `debug` or higher.

## Email Logging

This will send an email to the email address of the store owner. Currently there is no way to change this but that might change in the future.

Logs all messages with a level of `error` or higher.

